---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import ThumbnailList from '../components/ThumbnailList/index.astro';
import ThumbnailCard from '../components/ThumbnailCard/index.astro';
const collectionName = 'demo';
const demoEntries = await getCollection(collectionName);
const images = import.meta.glob<{ default: ImageMetadata }>(
	'/src/content/demo/**/*.{jpeg,jpg,png,gif}'
);
---

<Layout
	title="FabricJS 演示集"
	description="fabric,fabricjs特性描述,演示例子,fabricjs中文官方网站,fabricJs中文手册,fabricjs中文网站,fabricjs中文文档,fabricjs.com,canvas,javascript,vue,react,绘图,画板,类库,游戏,流程图,flowchart,动画,画布,教程,学习"
>
	<main class="darkBg">
		<h1>FabricJS Demos</h1>
		<ThumbnailList>
			{
				demoEntries.map(({ data, id, slug }) => {
					const imgFullPath = `/src/content/${collectionName}/${id.replace(/index\.mdx?/, data.thumbnail)}`;
					return (
						<li>
							<ThumbnailCard
								title={data.title}
								description={data.description}
								linkToUrlSlug={`/demos/${slug}`}
								imgSrc={images[imgFullPath]()}
							/>
						</li>
					);
				})
			}
		</ThumbnailList>
	</main>
</Layout>
